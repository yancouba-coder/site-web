<%= stylesheet_link_tag "evaluation" %>

<div class="bandeauSuperieur d-flex justify-content-center">
  <span class="mx-4 uppercase font-bold">Menu évaluation</span>
</div>

<!--
  Si l'auto-évaluation n'est pas encore réalisée :
    le bouton 'M'auto-évaluer' est actif, les deux autres sont inactifs
  Sinon
    le bouton 'M'auto-évaluer' est inactif, les deux autres sont actifs
-->
<div class="mx-3 mt-4">
  <span class="uppercase font-bold text-darkgrey">Auto-évaluation</span>
</div>
<div class="d-flex justify-content-around mb-5 mt-3 mx-4">

<% if @eval[0][1] == 0 then %>

  <span class="btn btn-square mx-2" onclick="window.location.assign('./evaluation/<%= @idEvals['idAutoEval'] %>');">M'auto-évaluer</span>
  <span class="btn btn-square mx-2 disabled" onclick="">Consulter</span>
  <span class="btn btn-square mx-2 disabled" onclick="">Télécharger</span>

<% else %>

  <span class="btn btn-square mx-2 disabled" onclick="">M'auto-évaluer</span>
  <span class="btn btn-square mx-2" onclick="window.location.assign('./evaluation/view/<%= @idEvals['idAutoEval'] %>');">Consulter</span>
  <span class="btn btn-square mx-2" onclick="window.open('<%= evaluation_path(format: 'pdf', id: @idEvals['idAutoEval']) %>', '_blank');">Télécharger</span>

<% end %>

</div>

<!--
  Si l'évaluation n'est pas encore réalisée :
    le bouton 'Télécharger le template' est actif, les deux autres sont inactifs
  Sinon
    les trois bouton sont actifs
-->
<div class="mx-3 mt-4">
  <span class="uppercase font-bold text-darkgrey">Grille d'évaluation</span>
</div>
<div class="d-flex justify-content-around mb-5 mt-3 mx-4">

  <% if @eval[0][3] == 0 then %>

    <span class="btn btn-square mx-2 disabled" onclick="">Consulter</span>
    <span class="btn btn-square mx-2 disabled" onclick="">Télécharger</span>
    <span class="btn btn-square mx-2" onclick="window.open('<%= evaluation_path(format: 'pdf') %>', '_blank');">Télécharger le template</span>

  <% else %>

    <span class="btn btn-square mx-2" onclick="window.location.assign('./evaluation/view/<%= @idEvals['idEval'] %>');">Consulter</span>
    <span class="btn btn-square mx-2" onclick="window.open('<%= evaluation_path(format: 'pdf', id: @idEvals['idEval']) %>', '_blank');">Télécharger</span>
    <span class="btn btn-square mx-2" onclick="window.open('<%= evaluation_path(format: 'pdf') %>', '_blank');">Télécharger le template</span>

  <% end %>

</div>

<!--
  Si l'auto-évaluation finale n'est pas encore réalisée :
    le bouton 'M'auto-évaluer' est actif, les deux autres sont inactifs
  Sinon
    le bouton 'M'auto-évaluer' est inactif, les deux autres sont actifs
-->
<div class="mx-3 mt-4">
  <span class="uppercase font-bold text-darkgrey">Auto-évaluation finale</span>
</div>
<div class="d-flex justify-content-around mb-5 mt-3 mx-4">

  <% if @eval[0][2] == 0 then %>

    <span class="btn btn-square mx-2" onclick="window.location.assign('./evaluation/<%= @idEvals['idAutoEvalFinale'] %>');">M'auto-évaluer</span>
    <span class="btn btn-square mx-2 disabled" onclick="">Consulter</span>
    <span class="btn btn-square mx-2 disabled" onclick="">Télécharger</span>

  <% else %>

    <span class="btn btn-square mx-2 disabled" onclick="">M'auto-évaluer</span>
    <span class="btn btn-square mx-2" onclick="window.location.assign('./evaluation/view/<%= @idEvals['idAutoEvalFinale'] %>');">Consulter</span>
    <span class="btn btn-square mx-2" onclick="window.open('<%= evaluation_path(format: 'pdf', id: @idEvals['idAutoEvalFinale']) %>', '_blank');">Télécharger</span>

  <% end %>

</div>

<!--
  Si la notation finale n'est pas encore réalisée :
    le bouton 'Télécharger le template' est actif, les deux autres sont inactifs
  Sinon
    les trois bouton sont actifs
-->
<div class="mx-3 mt-4">
  <span class="uppercase font-bold text-darkgrey">Grille de notation finale</span>
</div>
<div class="d-flex justify-content-around mt-3 mx-4">

  <% if @eval[0][4] == 0 then %>

    <span class="btn btn-square mx-2 mb-5 disabled" onclick="">Consulter</span>
    <span class="btn btn-square mx-2 mb-5 disabled" onclick="">Télécharger</span>
    <span class="btn btn-square mx-2 mb-5" onclick="window.open('<%= evaluation_path(format: 'pdf') %>', '_blank');">Télécharger le template</span>

  <% else %>

    <span class="btn btn-square mx-2 mb-5" onclick="window.location.assign('./evaluation/view/<%= @idEvals['idEvalFinale'] %>');">Consulter</span>
    <span class="btn btn-square mx-2 mb-5" onclick="window.open('<%= evaluation_path(format: 'pdf', id: @idEvals['idEvalFinale']) %>', '_blank');">Télécharger</span>
    <span class="btn btn-square mx-2 mb-5" onclick="window.open('<%= evaluation_path(format: 'pdf') %>', '_blank');">Télécharger le template</span>

  <% end %>

</div>
